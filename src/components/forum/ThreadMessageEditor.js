import React, { useState, useEffect } from "react";
import ReactQuill from "react-quill"; // ES6

//import "react-quill/dist/quill.snow.css"; // ES6
import "./styles.css";

function ThreadMessageEditor() {
  const [text, setText] = useState("");

  useEffect(() => {
    let b = document.getElementsByClassName("ql-picker-options");
    let l = document.getElementsByClassName("ql-picker-label")[0];
    console.log(l);

    l.classList.add("dark:text-gray-300");

    for (let i = 0; i < b.length; i++) {
      b[i].classList.add("dark:bg-gray-card");
      b[i].classList.add("dark:text-gray-300");
      b[i].classList.add("bg-white");
    }
  }, []);

  var icons = ReactQuill.Quill.import("ui/icons");
  icons["bold"] = `
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="fill-current text-gray-700  dark:text-gray-300 h-3 w-3"
      enableBackground="new 0 0 438.543 438.543"
      version="1.1"
      viewBox="0 0 438.543 438.543"
      xmlSpace="preserve"
    >
      <path d="M394.005 235.541c-17.131-19.987-42.537-33.878-76.231-41.683 23.612-10.85 37.887-18.177 42.835-21.982 11.991-8.947 21.032-18.942 27.113-29.98 6.092-11.042 9.134-23.223 9.134-36.545 0-12.371-1.995-23.981-5.995-34.831-3.997-10.852-10.182-20.749-18.556-29.694-8.565-8.943-18.273-16.18-29.122-21.7-10.089-4.947-19.226-8.658-27.411-11.132-19.603-5.14-37.781-7.71-54.529-7.71h-21.128c-3.806 0-7.666-.048-11.567-.144-3.898-.09-5.944-.14-6.134-.14-.949 0-2.284.05-4.002.141-1.713.096-3.049.144-3.999.144l-12.85.287L93.074 4.283l-74.23 1.714 1.142 23.695c15.986 2.096 26.84 3.337 32.548 3.715 9.707.571 16.274 2.002 19.701 4.283 2.096 1.525 3.238 2.666 3.428 3.427 1.902 4.187 2.946 14.56 3.14 31.121.76 28.171 1.619 66.619 2.568 115.344l.571 141.896c0 24.359-.855 42.828-2.568 55.388-.761 4.569-2.762 9.422-5.997 14.562-8.756 3.614-20.461 6.567-35.117 8.85-4.375.568-10.848 1.711-19.412 3.43l-.571 26.836c45.489-1.526 71.374-2.57 77.663-3.142 40.729-2.478 69.093-3.521 85.08-3.142l56.242 1.137c22.087.76 40.929-.288 56.534-3.139 24.742-4.568 44.057-10.283 57.958-17.135 14.082-6.851 27.404-17.131 39.964-30.833 9.527-10.466 16.275-21.601 20.272-33.407 5.521-16.174 8.278-31.494 8.278-45.963.005-24.739-8.748-47.202-26.263-67.379zM170.456 33.126c14.846-2.474 27.218-3.711 37.115-3.711 32.546 0 56.82 7.139 72.805 21.413 16.169 14.272 24.263 32.071 24.263 53.387 0 30.266-8.467 51.583-25.406 63.954-16.939 12.37-42.065 18.558-75.373 18.558-12.562 0-22.935-.665-31.118-1.997-.193-6.473-.288-13.8-.288-21.986l.288-27.979c.188-29.88-.383-56.431-1.714-79.656-.382-6.28-.572-13.603-.572-21.983zm142.755 329.753c-7.043 13.702-18.657 24.458-34.83 32.265-16.181 7.806-36.74 11.703-61.671 11.703-12.182 0-25.506-3.038-39.971-9.13-2.284-5.517-3.427-9.712-3.431-12.566l-.854-77.088.288-49.392v-41.114c5.14-1.903 14.753-2.853 28.837-2.853 31.787 0 55.291 3.046 70.519 9.135 15.797 6.096 29.218 18.086 40.258 35.978 7.803 12.566 11.704 29.694 11.704 51.394-.004 21.122-3.622 38.346-10.849 51.668z"></path>
    </svg>
    `;
  icons["italic"] = `
    <svg
        xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-gray-700  dark:text-gray-300 h-3 w-3"

        enableBackground="new 0 0 994.4 994.4"
        version="1.1"
        viewBox="0 0 994.4 994.4"
        xmlSpace="preserve"
        >
        <path d="M524.65 766.3c2.3-7.699 4.6-15.6 6.6-23.6.301-1.3 35.101-135.6 72.301-275.8 64-241.1 79.6-289.6 83.1-297 11.9-24.6 31.2-43.2 59-56.9 24-11.8 54.6-19.6 91-23.2 10.7-1.1 20.8-7 28.2-16.6 6.7-8.7 10.6-19.7 10.6-30.2 0-23.7-19.3-43-43-43h-487.5c-23.7 0-43 19.3-43 43v1.5c0 21.2 15.2 39 36.101 42.4 27.699 4.5 65.699 10.7 95.5 24.8 15.3 7.2 27.199 16 35.1 26 9 11.3 13.4 24.4 13.4 39.9 0 29-8.5 58.1-16.7 86.2-1.7 5.9-3.5 12.1-5.2 18.1-10.5 37.5-26 94.4-43.9 160.3-41.3 151.7-92.699 340.4-105.6 376.3-8.7 24.2-41 81.5-152.1 90-10.8.8-20.9 5.7-28.2 13.601-7.4 8-11.4 18.3-11.4 29.199v.101c0 23.7 19.3 43 43 43h487.601c23.699 0 43-19.3 43-43v-.3c0-21.7-16.2-40-37.7-42.601-4.2-.5-8.3-1-12.7-1.5-42.8-4.899-96-11.1-118.4-40.2-10.399-13.5-13.699-31.3-10.3-54.199 2.197-15.5 6.598-30.5 11.197-46.301z"></path>
    </svg>
 `;
  icons["underline"] = `
    <svg
        xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-gray-700  dark:text-gray-300 h-3.5 w-3.5"

        enableBackground="new 0 0 384 384"
        version="1.1"
        viewBox="0 0 384 384"
        xmlSpace="preserve"
        >
        <path d="M192 298.667c70.72 0 128-57.28 128-128V0h-53.333v170.667c0 41.28-33.387 74.667-74.667 74.667s-74.667-33.387-74.667-74.667V0H64v170.667c0 70.72 57.28 128 128 128z"></path>
        <path d="M42.667 341.333H341.33399999999995V384H42.667z"></path>
    </svg>
`;
  icons["link"] = `
  <svg
      xmlns="http://www.w3.org/2000/svg"
      class="fill-current text-gray-700  dark:text-gray-300 h-3.5 w-3.5 transform -rotate-90"

      enableBackground="new 0 0 512 512"
      version="1.1"
      viewBox="0 0 512 512"
      xmlSpace="preserve"
    >
      <path d="M476.853 35.148c-46.864-46.864-122.842-46.864-169.706-.001L206.853 135.441c-48.475 48.477-43.987 125.717 0 169.706 7.366 7.366 15.516 13.372 24.122 18.305l18.305-18.305c12.006-12.008 7.78-26.045 7.564-36.174-2.635-1.868-5.198-3.887-7.564-6.253-22.573-22.571-23.588-61.265 0-84.853L349.572 77.575c23.399-23.399 61.454-23.399 84.853 0 23.399 23.399 23.399 61.454 0 84.853l-66.293 66.293c1.917 10.607 13.422 35.733 7.504 77.181.289-.284.635-.467.923-.754l100.294-100.294c46.862-46.864 46.862-122.842 0-169.706z"></path>
      <path d="M312.918 199.081c-7.365-7.366-15.516-13.372-24.12-18.305l-18.305 18.305c-12.008 12.006-7.782 26.043-7.566 36.172 2.637 1.868 5.2 3.887 7.566 6.253 22.573 22.573 23.588 61.265 0 84.853L162.427 434.425c-23.399 23.399-61.454 23.399-84.853 0-23.399-23.399-23.399-61.454 0-84.853l74.067-74.067c-1.917-10.607-13.423-35.733-7.504-77.181-.289.284-.637.469-.925.756L35.147 307.147c-46.862 46.864-46.862 122.842 0 169.706 46.864 46.862 122.841 46.862 169.705 0l108.066-108.066c47.576-47.576 44.976-124.731 0-169.706z"></path>
   </svg>
`;
  icons["align"]["center"] = `
  <svg
  xmlns="http://www.w3.org/2000/svg"
  class="fill-current text-gray-700  dark:text-gray-300 h-4 w-4"

  viewBox="0 0 64 64"
>
  <path d="M54 8H10a2 2 0 000 4h44a2 2 0 000-4zM54 52H10a2 2 0 000 4h44a2 2 0 000-4zM46 23a2 2 0 000-4H18a2 2 0 000 4zM54 30H10a2 2 0 000 4h44a2 2 0 000-4zM46 45a2 2 0 000-4H18a2 2 0 000 4z"></path>
</svg>
`;
  icons["align"][""] = `
  <svg
  xmlns="http://www.w3.org/2000/svg"
  class="fill-current text-gray-700  dark:text-gray-300 h-3.5 w-3.5 "

  enableBackground="new 0 0 612 612"
  version="1.1"
  viewBox="0 0 612 612"
  xmlSpace="preserve"
>
  <path d="M21.857 65.571h568.286c12.065 0 21.857-9.792 21.857-21.857s-9.792-21.857-21.857-21.857H21.857C9.792 21.857 0 31.649 0 43.714s9.792 21.857 21.857 21.857zm0 174.858h393.429c12.064 0 21.856-9.792 21.856-21.857s-9.792-21.857-21.856-21.857H21.857C9.792 196.714 0 206.506 0 218.571c0 12.066 9.792 21.858 21.857 21.858zm327.857 306H21.857C9.792 546.429 0 556.221 0 568.286c0 12.064 9.792 21.856 21.857 21.856h327.857c12.065 0 21.857-9.792 21.857-21.856 0-12.065-9.792-21.857-21.857-21.857zm240.429-174.858H21.857C9.792 371.571 0 381.363 0 393.429s9.792 21.857 21.857 21.857h568.286c12.065 0 21.857-9.792 21.857-21.857s-9.792-21.858-21.857-21.858z"></path>
</svg>
`;
  icons["align"]["right"] = `
<svg
    xmlns="http://www.w3.org/2000/svg"
    class="fill-current text-gray-700  dark:text-gray-300 h-3.5 w-3.5 "

    enableBackground="new 0 0 512 512"
    version="1.1"
    viewBox="0 0 512 512"
    xmlSpace="preserve"
    >
    <path d="M501.333 170.667h-320a10.66 10.66 0 00-10.667 10.667v21.333a10.66 10.66 0 0010.667 10.667h320A10.66 10.66 0 00512 202.667v-21.333a10.66 10.66 0 00-10.667-10.667zM501.333 298.667H10.667A10.66 10.66 0 000 309.333v21.333a10.66 10.66 0 0010.667 10.667h490.667a10.66 10.66 0 0010.667-10.667v-21.333a10.662 10.662 0 00-10.668-10.666zM501.333 426.667h-320a10.66 10.66 0 00-10.667 10.667v21.333a10.66 10.66 0 0010.667 10.667h320A10.66 10.66 0 00512 458.667v-21.333a10.66 10.66 0 00-10.667-10.667zM501.333 42.667H10.667A10.66 10.66 0 000 53.333v21.333a10.66 10.66 0 0010.667 10.667h490.667a10.66 10.66 0 0010.667-10.667V53.333a10.662 10.662 0 00-10.668-10.666z"></path>
</svg>
`;
  icons["align"]["justify"] = `
  <svg
  xmlns="http://www.w3.org/2000/svg"
  class="fill-current text-gray-700  dark:text-gray-300 h-3.5 w-3.5 "

  viewBox="0 0 512 512"
>
  <path
    d="M225.976-180.144h60.048v512h-60.048z"
    transform="rotate(90 256 75.856)"
  ></path>
  <path
    d="M225.976-60.048h60.048v512h-60.048z"
    transform="rotate(90 256 195.952)"
  ></path>
  <path
    d="M225.976 60.048h60.048v512h-60.048z"
    transform="rotate(90 256 316.048)"
  ></path>
  <path
    d="M225.976 180.144h60.048v512h-60.048z"
    transform="rotate(90 256 436.144)"
  ></path>
</svg>
`;

  const modules = {
    toolbar: [
      [{ size: ["10px", "16px", "18px", "32px"] }],
      ["bold", "italic", "underline"],
      ["link"],
      [{ align: [] }],
      [
        {
          color: [
            "#FF0000",
            "#001F3F",
            "#0074D9",
            "#7FDBFF",
            "#39CCCC",
            "#3D9970",
            "#2ECC40",
            "#01FF70",
            "#FFDC00",
            "#FF851B",
            "#FF4136",
            "#85144B",
            "#F012BE",
            "#B10DC9",
            "#111111",
            "#AAAAAA",
          ],
        },
      ],
      [{ list: "ordered" }, { list: "bullet" }],
    ],
  };

  const formats = [
    "header",
    "font",
    "size",
    "bold",
    "italic",
    "underline",
    "list",
    "bullet",
    "indent",
    "link",
    "align",
    "color",
  ];

  const handleChange = () => {};
  return (
    <ReactQuill
      className="h-20"
      value={text}
      modules={modules} // or modules
      formats={formats}
      onChange={handleChange}
    />
  );
}

export default ThreadMessageEditor;
